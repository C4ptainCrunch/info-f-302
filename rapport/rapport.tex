\documentclass[a4paper]{article}

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[french]{babel}
\usepackage{fullpage}
\usepackage{hyperref}
\usepackage{amssymb}
\usepackage{upgreek}

\title{
    Orthogonal Packing\\
    \small Projet d'informatique fondamentale - INFO-F-302
}
\author{
    Nikita \bsc{Marchant} et Romain \bsc{Fontaine}\\
    ULB BA3 2015-2016
}
\date{20 mai 2016}



\begin{document}
\maketitle
\tableofcontents

\section{\'Enonc\'e}
\subsection{Définitions}

\subsection{Objectif}

\section{Questions}
\subsection{Écrire les contraintes que soit satisfaire $\mu$}

$\mu$ doit satisfaire les contraintes suivantes :

\begin{itemize}
  \item Tout rectangle ne doit pas dépasser du grand rectangle :
  $$\forall i \in k,
  A(i) + \mathcal{X}(i) \leq m
  \land B(i) + \mathcal{Y}(i) \leq n
  \land A(i) \geq 0
  \land B(i) \geq 0$$

  \item Deux rectangles ne peuvent pas se superposer :
  $$\forall i, \forall j, \neq i,
  A(i) + \mathcal{X}(i) \leq  A(j)
  \lor A(i) \geq A(j) + \mathcal{X}(j)
  \lor B(i) + \mathcal{Y}(i) \leq  B(j)
  \lor B(i) \geq B(j) + \mathcal{Y}(j)
  $$
\end{itemize}

\subsection{Construire une formule $\Phi$ en FNC}
On commence par exprimer chaque contrainte en FNC :
\begin{itemize}
  \item $C_1$ : $
  \bigwedge\limits_{i \in k}
  A(i) + \mathcal{X}(i) \leq m
  \land B(i) + \mathcal{Y}(i) \leq n
  \land A(i) \geq 0
  \land B(i) \geq 0$

  \item $C_2$ : $
  \bigwedge\limits_{i \in k} \bigwedge\limits_{j \in k, j \neq i}
  A(i) + \mathcal{X}(i) \leq  A(j)
  \lor A(i) \geq A(j) + \mathcal{X}(j)
  \lor B(i) + \mathcal{Y}(i) \leq  B(j)
  \lor B(i) \geq B(j) + \mathcal{Y}(j)
  $
\end{itemize}

La FNC complète est donc la suivante :

$$ C_1 \land C_2$$

\subsection{Implémenter}

\subsection{Trouver le plus petit carré admettant une solution}

Pour trouver le plus petit carré $R$ admettant une solution au problème, nous regardons d'abord si le carré de côté $n=\sqrt{a}$, $a$ étant la somme des aires des rectangles : $a = \sum_{i \in k} \mathcal{X}(i) \cdot \mathcal{Y}(i)$.

Si le carré de côté $\sqrt{a}$ satisfait le problème, nous nous arrêtons là.

Si il ne le satisfait pas, nous doublons $n$ jusqu'à ce qu'il le satisfasse. A ce moment là, nous avons une borne inférieure ($\frac{n}{2}$) et supérieure ($n$) pour la taille minimale du côté du carré.

A partir de ces deux bornes, nous pouvons faire une recherche dichotomique pour rapprocher celles-ci jusqu'à ce qu'elles soient identiques.

\subsection{Étant donné $n$, trouver la dimension du plus petit carré contenant les carrés $\{r_1 \ldots r_n \}$}

Nous pouvons considérer que ce problème est un cas particulier du précédent et par conséquent le résoudre de la même manière.

\subsection{Ajouter une 3ème dimension}

\subsubsection{Implémenter}
\subsubsection{Plus petite dimension du cube admettant une solution}

\subsection{Empêcher un pavé de ``flotter''}
Nous pouvons la rajouter la contrainte suivante : Soit le pavé est au sol, soit la base du pavé doit être au même $z$ que le sommet d'un autre ($C_1$) et vu d'en haut, la base du premier doit intersecter avec le sommet de l'autre ($C_2$) :

$$\forall i \in k, \exists j \in k, (C_1 \land C_2) \lor C(i) = 0$$

Les propositions sont définies comme suit :
\begin{itemize}
  \item $C_1$ :
  $
  C(j) + \mathcal{Z}(j) = C(i)
  $
  \item $C_2$ : $C_{21} \land C_{22}$ avec :
  \begin{itemize}
    \item $C_{21}$ : $A(i) \geq A(j) \land A(i) + \mathcal{X}(i) \leq A(j) + \mathcal{X}(j)$
    \item $C_{22}$ : $B(i) \geq B(j) \land B(i) + \mathcal{Y}(i) \leq B(j) + \mathcal{Y}(j)$
  \end{itemize}
\end{itemize}

\subsection{Pivotage}

Pour implémenter la résolution avec pivotage, nous rajoutons un vecteur de booléens $R$ avec $R_i$ étant vrai si le rectangle doit être retourné. Nos contraintes deviennent donc :

\begin{itemize}
  \item $\forall i \in k, C_1$ : soit $i$ ne dépasse pas du grand rectangle ($C_{11}$), soit $i$ est retourné et ne dépasse pas du grand rectangle ($C_{12}$):
  $$
  C_{11} : \lnot R_i \land A(i) + \mathcal{X}(i) \leq m
  \land B(i) + \mathcal{Y}(i) \leq n
  \land A(i) \geq 0
  \land B(i) \geq 0
  $$
  $$
  C_{12} : R_i \land A(i) + \mathcal{Y}(i) \leq m
  \land B(i) + \mathcal{X}(i) \leq n
  \land A(i) \geq 0
  \land B(i) \geq 0
  $$
  \item $\forall i \in k, \forall j \in k, j\neq i, C_{2}$ : $C_{21} \lor C_{22} \lor C_{23} \lor C_{24}$
  \begin{itemize}
    \item $C_{21}$ : $i$ n'est pas supperposé à $j$ :
    $$
    \lnot R_i \land \lnot R_j \land
    A(i) + \mathcal{X}(i) \leq  A(j)
    \lor A(i) \geq A(j) + \mathcal{X}(j)
    \lor B(i) + \mathcal{Y}(i) \leq  B(j)
    \lor B(i) \geq B(j) + \mathcal{Y}(j)
    $$

    \item $C_{22}$ : $i$ est retourné et n'est pas supperposé à $j$
    $$
    R_i \land \lnot R_j \land
    A(i) + \mathcal{Y}(i) \leq  A(j)
    \lor A(i) \geq A(j) + \mathcal{X}(j)
    \lor B(i) + \mathcal{X}(i) \leq  B(j)
    \lor B(i) \geq B(j) + \mathcal{Y}(j)
    $$

    \item $C_{24}$ : $i$ n'est pas supperposé à $j$ et $j$ est retourné
    $$
    \lnot R_i \land R_j \land
    A(i) + \mathcal{X}(i) \leq  A(j)
    \lor A(i) \geq A(j) + \mathcal{Y}(j)
    \lor B(i) + \mathcal{Y}(i) \leq  B(j)
    \lor B(i) \geq B(j) + \mathcal{X}(j)
    $$

    \item $C_{24}$ : $i$ est retourné et n'est pas supperposé à $j$ et $j$ est retounré
    $$
    R_i \land R_j \land
    A(i) + \mathcal{Y}(i) \leq  A(j)
    \lor A(i) \geq A(j) + \mathcal{Y}(j)
    \lor B(i) + \mathcal{X}(i) \leq  B(j)
    \lor B(i) \geq B(j) + \mathcal{X}(j)
    $$
  \end{itemize}

  Nous avons donc comme contrainte finale :
  $$
  \bigwedge\limits_{i \in k} \Big( C_{11} \lor C_{12} \Big) \land
  \bigwedge\limits_{i \in k} \bigwedge\limits_{j \in k, j \neq i}
  \Big( C_{21} \lor C_{22} \lor C_{23} \lor C_{24} \Big)
  $$

  Que nous pouvons convertir en une suite de clauses $\land$ :
  $$
  \bigwedge\limits_{i \in k} \lnot \Big( \lnot C_{11} \land \lnot C_{12} \Big) \land
  \bigwedge\limits_{i \in k} \bigwedge\limits_{j \in k, j \neq i}
  \lnot \Big( \lnot C_{21} \land \lnot C_{22} \land \lnot C_{23} \land \lnot C_{24} \Big)
  $$

\end{itemize}

\subsection{Minimum d'unités de contact}

On peut définir le nombre d'unités de contact avec le côté inférieur comme ceci :
$$
\sum_{\forall i \in k, A(i) = 0} \mathcal{Y}(i)
$$

De la même manière, on peut exprimer la somme des unités de contact sur les 4 côtés (bas, gauche, haut, droite) :

$$
\Gamma = \sum_{\forall i \in k, A(i) = 0} \mathcal{Y}(i) +
\sum_{\forall i \in k, B(i) = 0} \mathcal{X}(i) +
\sum_{\forall i \in k, A(i) + \mathcal{X}(i) =  n} \mathcal{Y}(i) +
\sum_{\forall i \in k, B(i) + \mathcal{Y}(i) = m} \mathcal{X}(i)
$$

Dès lors, on peut rajouter la contrainte $\Gamma \geq p$

\end{document}
